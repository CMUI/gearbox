/*! Gearbox | MIT | https://github.com/CMUI/gearbox */
!function(t,n){"use strict";var r=t._,e=t.Zepto||t.jQuery||t.$;if(!r||!e)return!1;var i={},o=t.document;void function(t,n){n.exports=function(t,n){function e(t,n){i(t)?r.extend(r[t],n):r[t]=n}function i(t){return r[t]?!0:!1}t&&r.isString(t)&&n&&r.isObject(n)&&("root"===t?r.each(n,function(t,n){e(n,t)}):e(t,n))}}(t,i),void function(t,n){function e(t){return null==t?"":""+t}function i(t){return 0>t?0:+t||0}function o(t){return null==t?"\\s":t.source?t.source:"["+u.escapeRegExp(t)+"]"}var s=r.str||{};if(!s.VERSION||"function"!=typeof s.trim){var u=s,a=String.prototype.trim,c=String.prototype.trimRight,l=String.prototype.trimLeft;s.escapeRegExp=function(t){return null==t?"":e(t).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},s.trim=function(t,n){return null==t?"":!n&&a?a.call(t):(n=o(n),e(t).replace(new RegExp("^"+n+"+|"+n+"+$","g"),""))},s.ltrim=function(t,n){return null==t?"":!n&&l?l.call(t):(n=o(n),e(t).replace(new RegExp("^"+n+"+"),""))},s.rtrim=function(t,n){return null==t?"":!n&&c?c.call(t):(n=o(n),e(t).replace(new RegExp(n+"+$"),""))},s.include=function(t,n,r){return""===n?!0:(r=null==r?0:Math.min(i(r),t.length),-1!==e(t).slice(r).indexOf(n))},s.startsWith=function(t,n,r){return t=e(t),n=""+n,r=null==r?0:Math.min(i(r),t.length),t.lastIndexOf(n,r)===r},s.endsWith=function(t,n,r){return t=e(t),n=""+n,r="undefined"==typeof r?t.length-n.length:Math.min(i(r),t.length)-n.length,r>=0&&t.indexOf(n,r)===r},u.contains=u.include,n.exports("str",s)}}(t,i),void function(t,n){var e=r.str||{};e.CNY=e.RMB="¥",e.FULL_WIDTH_CNY=e.FULL_WIDTH_RMB="￥",e.RE_EMAIL=/^(?:[a-z\d]+[_\-\+\.]?)*[a-z\d]+@(?:([a-z\d]+\-?)*[a-z\d]+\.)+([a-z]{2,})+$/i,e.RE_MOBILE=/^1[34578]\d{9}$/,e.RE_POSTCODE=/^\d{6}$/,e.isHash=function(t){return t=r.str.trim(t),r.str.startsWith(t,"#")},e.stripHash=function(t){return t=r.str.trim(t),t=r.str.ltrim(t,"#"),r.str.startsWith(t,"!")&&(t=t.slice(1)),t},e.uniq=e.unique=function(t){if(!r.isArray(t))return!1;var n={};return r.each(t,function(t){n[String(t)]=null}),r.keys(n)},e.toFloat=function(t){return parseFloat(t)},e.toInt=function(t){var n=parseFloat(t);return 0>n?Math.ceil(n):Math.floor(n)},e.toFixed=function(t,n){return r.str.toFloat(r.str.toFloat(t).toFixed(n||0))},n.exports("str",e)}(t,i),void function(t,n){var i={$:function(t){var n;return n=r.isElement(t)?t.__$__=t.__$__||e(t):r.dom.is$Element(t)?t:e(t)},isPlainObject:e.isPlainObject};n.exports("root",i)}(t,i),void function(t,n){function e(t){var n=t.str.toLowerCase();if(t.isSafari=/\bapple\b/i.test(navigator.vendor)&&/\bsafari\b/i.test(n),t.isChrome=r.str.include(n,"chrome")||r.str.include(n,"crios"),t.osVersion="0",t.isIOS=/\(i(?:phone|pod|pad)\b/.test(n)||/\bios \d+\./.test(n),t.isIOS)t.isIPad=/\(ipad\b/.test(n),t.isIPod=/\(ipod\b/.test(n),t.isIPhone=/\(iphone\b/.test(n),t.osVersion=(/[\/; i]os[\/: _](\d+(?:[\._]\d+)?)[\._; ]/.exec(n)||[0,"0"])[1].replace("_",".");else{var e=r.str.include(n,"android"),i=/\badr\b/.test(n)&&/\blinux;\s*u;/.test(n),o=/juc\s*\(linux;\s*u;\s*\d+\.\d+/.test(n);t.isAndroid=e||i||o,t.osVersion=i||o?(/\badr[\/: ]?(\d+\.\d)\d*\b/.exec(n)||/\blinux;\s*u;\s*(\d+\.\d)\d*\b/.exec(n)||[0,"0"])[1]:(/\bandroid(?:_os)?[\/: ]?(\d+\.\d)\d*\b/.exec(n)||[0,"0"])[1]}return r.str.include(t.osVersion,".")||(t.osVersion+=".0"),(t.isIOS||t.isAndroid)&&(t.isMobileDevice=!0),t}var i={};i.isTouchDevice="ontouchstart"in t&&"ontouchmove"in t&&"ontouchend"in t,i.str=navigator.userAgent,e(i),n.exports("ua",i)}(t,i),void function(t,n){function i(){return s.search.slice(1)}var o={},s=t.location;o.parseQuery=function(t){var n={};if(t&&r.isString(t)){var e,i,o,s=t.split("&");r.each(s,function(t){e=t.split("="),i=e[0],o=e[1]||"",i&&(n[decodeURIComponent(i).toLowerCase()]=decodeURIComponent(o))})}return n};var u,a=null;o.getParam=function(t){if(!t||!r.isString(t))return!1;if("undefined"==typeof u)u=i();else{var n=i();n!==u&&(a=null,u=n)}return a||(a=this.parseQuery(u)),a[t.toLowerCase()]},o.appendParam=function(t,n){var i="";return t=r.isString(t)?t:"",t=r.url.removeHashFromUrl(t),r.isPlainObject(n)?n=e.param(n):r.isString(n)?(r.str.startsWith(n,"&")||r.str.startsWith(n,"?"))&&(n=n.slice(1)):n=null,i=n?t+(r.str.include(t,"?")?"&":"?")+n:i,i||!1},o.removeHashFromUrl=function(t){return arguments.length?String(t).split("#")[0]:""},o.getHashFromUrl=function(t){var n=String(t).split("#");return n[0]="",n.join("#")},o.isHash=r.str.isHash,o.stripHash=r.str.stripHash,n.exports("url",o)}(t,i),void function(t,n){var i={};i.$win=e(t),i.$root=e(o.documentElement),i.$body=e(o.body),i.is$Element=function(t){if(!t||!r.isObject(t))return!1;var n=!1;if("__proto__"in t)n=t.__proto__===e.fn;else{var i=e.zepto&&e.zepto.Z||e;n=t instanceof i}return n},n.exports("dom",i)}(t,i),void function(t,n){var r=function(){function n(t){var n=t.data("action")||"";if(!n){var i=e.trim(t.attr("href"));i&&0===i.indexOf("#")&&(n=i)}return r(n)}function r(t){return t?e.trim(String(t).replace(/^[#!\s]+/,"")):""}function i(){var t=e(o.body||o.documentElement);t.on("click",a,function(t){t.preventDefault();var r=e(this),i=n(r);s(i,this)})}function s(n,r){if(n){var i=c[n];return i&&e.isFunction(i)?i.call(r||t):void 0}}var u={},a="[data-action]",c={};return u.add=function(t){e.isPlainObject(t)&&e.each(t,function(t,n){var i=r(t);i&&e.isFunction(n)&&(c[i]=n)})},u.trigger=function(t,n){return s(r(t),n)},i(),u}();n.exports("action",r)}(t,i),void function(t,n){var e=function(){function t(t){return t=t?r.str.trim(t).replace(/^[#!]+/,""):"",r.str.trim(t).replace(c,"")}function n(t){return t=t?r.str.trim(t):"",r.str.startsWith(t,c)?t:c+t}function e(t){return t=String(t),r.str.startsWith(t,"<!--")&&r.str.endsWith(t,"-->")&&(t=t.replace(/^<!\-\-/,"").replace(/\-\->$/,""),t=r.str.trim(t)),t}function i(t){if(!t)return!1;var i,u=n(String(t)),a=o.getElementById(u);if(a){var c=r.str.trim(a.innerHTML);c&&(r.templateSettings.shouldUnwrapCommentTag&&(c=e(c)),s(c)&&(i=c))}return i||!1}function s(t){var n=String(t);return r.str.include(n,"<%")&&r.str.include(n,"%>")&&/\bdata\b/.test(n)}function u(n,r){if(arguments.length<2)return!1;var e;if(r){var i=t(n);e=l[i]=r}return!!e}var a={},c="template-",l={},d={};return a.remove=function(){},a.add=u,a.render=function(n,e){if(arguments.length<2)return console.error('Missing data to render template: "'+n+'"'),!1;var o,s=t(n),u=d[s],a=l[s];return r.isFunction(u)?o=u(e):r.isString(a)?(u=r.template(a),d[s]=u,o=u(e)):(a=i(s),a&&(l[s]=a,u=r.template(a),d[s]=u,o=u(e))),o||""},a}();n.exports("template",e)}(t,i)}(window);